<!DOCTYPE html>
<html>
<head>
  <title>Ping Pong vs AI</title>
  <style>
    body {
      background: black;
      color: white;
      text-align: center;
      margin: 0;
      font-family: Arial, sans-serif;
    }

    #homeScreen, #statsScreen, #shopScreen, #settingsScreen {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    button {
      padding: 15px 30px;
      font-size: 24px;
      cursor: pointer;
      border: none;
      border-radius: 10px;
      background: white;
      color: black;
      transition: background 0.2s;
      margin-top: 20px;
    }

    button:hover {
      background: #ddd;
    }

    #controls {
      display: none;
      margin-top: 10px;
      flex-direction: column;
      align-items: center;
    }

    .arrow {
      font-size: 75px;
      padding: 40px 50px;
      margin: 0 30px;
      background: white;
      color: black;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      user-select: none;
    }

    #timeStopBtn {
      display: none;
      background-color: #00f;
      color: white;
      font-size: 20px;
      margin-top: 20px;
      padding: 10px 20px;
      border-radius: 10px;
    }
  </style>
</head>
<body>

  <!-- Controls -->
  <div id="controls">
    <button class="arrow" id="upBtn">‚¨ÜÔ∏è</button>
    <button class="arrow" id="downBtn">‚¨áÔ∏è</button>
    <button id="timeStopBtn">üïí Time Stop</button>
  </div>

  <!-- Add Time Stop Shop Logic -->
  <script>
    let coins = parseInt(localStorage.getItem("coins") || "0");
    let hasTimeStop = localStorage.getItem("hasTimeStop") === "true";
    let lastUsedTimeStop = parseInt(localStorage.getItem("lastUsedTimeStop") || "0");
    const timeStopBtn = document.getElementById("timeStopBtn");

    function updateTimeStopButton() {
      const now = Date.now();
      const elapsed = now - lastUsedTimeStop;
      const canUse = elapsed >= 60 * 60 * 1000; // 60 minutes

      if (hasTimeStop && canUse) {
        timeStopBtn.disabled = false;
        timeStopBtn.textContent = "üïí Time Stop";
      } else if (hasTimeStop) {
        timeStopBtn.disabled = true;
        const remaining = Math.ceil((60 * 60 * 1000 - elapsed) / 60000);
        timeStopBtn.textContent = `Cooldown: ${remaining} min`;
      } else {
        timeStopBtn.style.display = "none";
      }
    }

    function buyTimeStop() {
      if (hasTimeStop) {
        alert("You already own Time Stop!");
        return;
      }
      if (coins >= 10) {
        coins -= 10;
        hasTimeStop = true;
        localStorage.setItem("coins", coins);
        localStorage.setItem("hasTimeStop", "true");
        alert("Time Stop purchased!");
      } else {
        alert("Not enough coins!");
      }
    }

    let aiFrozen = false;

    timeStopBtn.addEventListener("click", () => {
      const now = Date.now();
      const elapsed = now - lastUsedTimeStop;
      if (elapsed >= 60 * 60 * 1000) {
        aiFrozen = true;
        lastUsedTimeStop = now;
        localStorage.setItem("lastUsedTimeStop", lastUsedTimeStop.toString());
        updateTimeStopButton();

        setTimeout(() => {
          aiFrozen = false;
        }, 3000);
      } else {
        alert("Time Stop is on cooldown!");
      }
    });

    // In your game loop where AI paddle moves, wrap with:
    // if (!aiFrozen) { aiMove(); }

    setInterval(updateTimeStopButton, 10000);
  </script>

</body>
</html>
